<IfModule mod_rewrite.c>
    RewriteEngine On
    # DirectoryIndex index.php # This line is usually not needed if RewriteRule handles the root

    php_flag display_errors on
    php_value error_reporting E_ALL

    # Serve static files directly
    RewriteRule \.(?:css|js|jpe?g|gif|png)$ - [L]

    # If the request is NOT for an existing file or directory,
    # then rewrite to index.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php [QSA,L]

    # If the request is for the root of the directory (e.g., /),
    # and it's not a static file, rewrite to index.php
    # This handles cases where index.php might exist but we want index.php to be the entry point
    RewriteRule ^(index\.php)?$ index.php [QSA,L]

</IfModule>
